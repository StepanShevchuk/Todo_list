{% extends "base.html" %}

{% block content %}
    <h1>Task List
        <a href="{% url "todo:task_create"%}">+</a>
    </h1>

    {% if task_list %}

      <table class="table">

        {% for task in task_list %}
            <div class="card">
            <h3>{{ task.content }} </h3><h5>done:{{ task.done }}</h5>
            <p>{{ task.datetime }}</p>
            <p>{% for tag in task.tags.all %} {{ tag.name }} {% endfor %}</p>
            <form action="{% url "todo:task_done" pk=task.id%}" method="post">
                {% csrf_token %}
                <button type="submit">
                    {% if task.done %}
                        <p>Undo</p>
                    {% else %}
                        <p>Complete</p>
                    {% endif %}
                </button>
            </form>
            </div>
        {% endfor %}
      </table>

    {% else %}
        <p>There are no tasks in the service.</p>
    {% endif %}
{% endblock %}
